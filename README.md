# Система документации на MediaWiki

## О проекте
Это учебный проект, в котором MediaWiki выступает платформой для корпоративной системы документации. Основная цель — показать, как развернуть и адаптировать движок под задачи внутреннего портала с разграничением прав пользователей, админкой и структурированным контентом.

## Среда разработки
- **Веб-сервер:** Apache 2.4.59 (WAMP64)
- **Язык программирования:** PHP 8.2.18
- **База данных:** PostgreSQL
- **CMS:** MediaWiki 1.44.0
- **Инструменты:** Composer, Dotenv
- **Локальный доступ:** VirtualHost `wiki-docs.local`

## Ключевые возможности
- Разграничение доступа между администраторами, редакторами и читателями.
- Административный интерфейс для управления пользователями, ролями и контентом.
- Структурирование материалов по разделам и подразделам (рубрикам и подрубрикам).
- Публикация статей с поддержкой изображений и авторства.
- Пользовательская регистрация и авторизация с автоматическим назначением роли редактора.
- Публичные страницы: главная, список рубрик, страница статьи, формы входа и регистрации.

## Архитектура данных
Проект опирается на следующую логическую модель:

| Таблица | Назначение |
| --- | --- |
| **users** | Профили пользователей, связаны с ролями. |
| **roles** | Набор ролей (администратор, редактор, читатель) и их права. |
| **content** | Материалы с привязкой к авторам и рубрикам. |
| **rubrics** | Основные тематические разделы. |
| **subrubrics** | Дополнительные уровни структуры внутри рубрик. |

При необходимости схема дополняется новыми сущностями, соответствующими специфике контента.

## Роли и права
- **Администратор** — управляет пользователями, назначает роли, создаёт и редактирует материалы, разделы и подразделы.
- **Редактор** — создаёт и обновляет собственные материалы, управляет личным профилем.
- **Читатель** — просматривает опубликованные материалы и не имеет доступа к админке.

## Развёртывание
1. Установите и настройте локальный веб-сервер (в проекте используется WAMP64 с Apache и PHP 8.2.18).
2. Разверните PostgreSQL и создайте базу данных `wikidb` и пользователя с правами на неё.
3. Склонируйте проект и распакуйте дистрибутив MediaWiki версии 1.44.0 в каталог VirtualHost `wiki-docs.local`.
4. Установите зависимости через Composer: `composer install`.
5. Создайте файл окружения `.env`, указав параметры доступа к базе данных и необходимые секреты.
6. Запустите мастер установки MediaWiki по адресу `http://wiki-docs.local/mw-config/` и следуйте инструкциям до генерации `LocalSettings.php`.
7. Переместите `LocalSettings.php` в корень проекта и обновите параметры подключения к PostgreSQL и используемым расширениям.

## Работа с контентом
- Используйте административный интерфейс для создания рубрик и подрубрик, чтобы структурировать материалы.
- Загружайте изображения через встроенную систему файлов MediaWiki и добавляйте их в статьи с помощью стандартного синтаксиса вики-разметки.
- Настройте шаблоны и категории, чтобы упростить навигацию и автоматизировать вывод списков материалов.

## Поддержка производительности
Для ускорения работы можно дополнительно настроить Memcached, подключив его через PHP-расширение и задав параметры в `LocalSettings.php`. Это позволит кешировать страницы и объекты в оперативной памяти.

## Полезные ссылки
- [Документация MediaWiki](https://www.mediawiki.org/wiki/Manual:Contents)
- [Руководство по установке MediaWiki](https://www.mediawiki.org/wiki/Manual:Installation_guide)
- [Сообщество MediaWiki](https://www.mediawiki.org/wiki/Project:Support_desk)
